<!-- This html isinjected into the main page by $routeProvider, it is the only html template used -->
<md-content>
	<md-toolbar layout="row">
		<h2>Dining App!!!</h2>
		<div ng-switch="userAuthenticated">
			<div ng-switch-when="true">
				<md-button ng-click="logout()">Logout</md-button> 
				<md-button ng-click="changePasswordRedirect()">Change Password</md-button> 
			</div>
			<div ng-switch-when="false">
				<md-button ng-click="signupRedirect()">Sign Up</md-button> 
				<md-button ng-click="loginRedirect()">Login</md-button> 
			</div>
		</div>
	</md-toolbar>

	<div layout="column" flex layout-align="center">
		<div layout="row" id="get-menu-form">
			<md-input-container>
		        <label>Dining Hall</label>
		        <md-select ng-model="formData.myLocation" placeholder="olin" ng-change="getDayMeals(formData)">
		          	<md-option value="olin">Olin</md-option>
		          	<md-option value="trim">Trim</md-option>
		        </md-select>
		    </md-input-container>
			<md-datepicker ng-model="formData.myDate" md-placeholder="Enter date" ng-change="getDayMeals(formData)"></md-datepicker>
		</div>

	
		<div id="day-meal-list" flex layout='row'>
				
			<md-card flex class="meal-card" ng-repeat="meal in daymeals">
				<md-toolbar>
					<h4>{{mealTypeToDisplay[meal.mealType]}}</h4>
				</md-toolbar>
				
				<md-content class="meal-menu">
					<md-list>
						<md-list-item ng-repeat="food in meal.foods">
							<div layout="row" class="md-list-item-text">
								<h5>{{food.name}}</h5>
								<div class="expand-button" ng-switch="food._id === currentlySelected._id">
									<div ng-switch-when="false">
										<md-button  class="material-icons" ng-click="selectDish(food)">keyboard_arrow_down</md-button>
									</div>
									<div ng-switch-when="true">
										<md-button  class="material-icons" ng-click="unselectDish()">keyboard_arrow_up</md-button>
									</div>
									
								</div>
							</div>
							<md-divider ng-if="!$last"></md-divider>

						</md-list-item>
					</md-list>
				</md-content>
			</md-card>
				
		</div>
</md-content>
